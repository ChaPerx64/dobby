# Finance Dashboard Page Implementation

## Overview
Implement the finance dashboard page in `/apps/frontend/` based on the DobbyFinance.png mockup using shadcn-ui. The page has a 3-column layout: sidebar (categories), center (metrics), right (chart).

## Current State
- Fresh React 19 + Vite (rolldown-vite) + TypeScript template
- No UI library, Tailwind, routing, or state management installed
- Backend has financial models (Period, Allocation, Transaction) but endpoints are mostly stubs

---

## Implementation Steps

### Step 1: Install & Configure Tailwind CSS v4
- `npm install tailwindcss @tailwindcss/vite`
- Update `vite.config.ts`: add Tailwind plugin + `@` path alias
- Update `tsconfig.app.json`: add `baseUrl` + `paths` for `@/*`
- Replace `src/index.css` with `@import "tailwindcss";`

### Step 2: Initialize shadcn-ui
- `npx shadcn@latest init` (New York style, neutral base color, CSS variables)
- Creates `components.json`, `src/lib/utils.ts`, updates `index.css` with theme variables

### Step 3: Add shadcn-ui Components
```bash
npx shadcn@latest add card separator chart
```
- `chart` pulls in `recharts` as a dependency

### Step 4: Create Type Definitions (`src/types/finance.ts`)
- `Period`, `Allocation`, `User` interfaces mirroring backend schemas
- `CategoryItem` for sidebar display
- `ChartDataPoint` for chart data
- All monetary values stored in para (1/100 RSD)

### Step 5: Create Utilities (`src/lib/format.ts`)
- `formatCurrency(para)` - converts para to RSD with apostrophe thousands separator (e.g., `120'000.00`)
- `formatDateRange(start, end)` - formats as "February, 5th - March, 5th"
- `getMonthName(dateStr)` - extracts month name

### Step 6: Create Mock Data (`src/data/mockData.ts`)
- `mockPeriod`: Feb 5 - Mar 5, budget 120'000, spent 23'000, remaining 97'000
- `mockCategories`: Total, Groceries, Chaian's pocket money, Sophia's pocket money
- `mockChartData`: daily data points with remaining/spent over time
- `mockProjectedBalance`: -3'000.00 (negative)

### Step 7: Create Dashboard Components

**`src/components/dashboard/Sidebar.tsx`**
- Month name header ("February")
- Date range subtitle ("February, 5th - March, 5th")
- Separator
- Clickable category list with active state highlighting

**`src/components/dashboard/MetricsPanel.tsx`**
- Vertical list of metrics: Allocated, Spent, Remaining, Projected ending balance
- Projected balance shown in red (`text-destructive`) when negative
- Numbers formatted with apostrophe separator

**`src/components/dashboard/SpendingChart.tsx`**
- Uses shadcn `ChartContainer` + recharts `AreaChart`
- Two areas: Remaining (y1) and Spent (y2) over time (x)
- Responsive sizing

**`src/components/dashboard/Dashboard.tsx`**
- 3-column flex layout (`h-screen`)
- Left: Sidebar (w-64), Center: MetricsPanel (w-80), Right: SpendingChart (flex-1)
- State: selected category changes metrics display

### Step 8: Update App.tsx
- Replace counter demo with `<Dashboard />`
- Delete `src/App.css` (no longer needed)

### Step 9: Cleanup
- Delete `src/App.css`, `src/assets/react.svg`

---

## Files Modified/Created

| File | Action |
|------|--------|
| `apps/frontend/package.json` | Modified (new deps) |
| `apps/frontend/vite.config.ts` | Modified (Tailwind plugin + alias) |
| `apps/frontend/tsconfig.app.json` | Modified (path aliases) |
| `apps/frontend/src/index.css` | Replaced (Tailwind + shadcn theme) |
| `apps/frontend/components.json` | Created (shadcn config) |
| `apps/frontend/src/lib/utils.ts` | Created (shadcn cn utility) |
| `apps/frontend/src/lib/format.ts` | Created |
| `apps/frontend/src/types/finance.ts` | Created |
| `apps/frontend/src/data/mockData.ts` | Created |
| `apps/frontend/src/components/ui/card.tsx` | Created (shadcn) |
| `apps/frontend/src/components/ui/separator.tsx` | Created (shadcn) |
| `apps/frontend/src/components/ui/chart.tsx` | Created (shadcn) |
| `apps/frontend/src/components/dashboard/Sidebar.tsx` | Created |
| `apps/frontend/src/components/dashboard/MetricsPanel.tsx` | Created |
| `apps/frontend/src/components/dashboard/SpendingChart.tsx` | Created |
| `apps/frontend/src/components/dashboard/Dashboard.tsx` | Created |
| `apps/frontend/src/App.tsx` | Modified |
| `apps/frontend/src/App.css` | Deleted |

---

## Verification
1. Run `npm run dev` in `apps/frontend/` and confirm the page loads
2. Verify 3-column layout matches the mockup
3. Verify number formatting uses apostrophe separator (120'000.00)
4. Verify projected balance shows in red when negative (-3'000.00)
5. Verify clicking sidebar categories updates the metrics panel
6. Verify chart renders with Remaining and Spent areas
7. Run `npm run build` to confirm no TypeScript errors
